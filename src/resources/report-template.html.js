module.exports = Buffer.from('PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8dGl0bGU+VGl0bGU8L3RpdGxlPgogICAgPHN0eWxlPgogICAgICAgICogewogICAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogICAgICAgIH0KICAgICAgICBodG1sLCBib2R5IHsKICAgICAgICAgICAgbWFyZ2luOiAwOwogICAgICAgICAgICBwYWRkaW5nOiAwOwogICAgICAgICAgICBoZWlnaHQ6IDEwMCU7CiAgICAgICAgfQogICAgICAgIHByZSB7CiAgICAgICAgICAgIG1hcmdpbjogMDsKICAgICAgICB9CiAgICAgICAgLmFwcCB7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGhlaWdodDogMTAwJTsKICAgICAgICB9CiAgICAgICAgLnRyZWUtY29udGFpbmVyIHsKICAgICAgICAgICAgZmxleDogMSAxIGF1dG87CiAgICAgICAgICAgIGhlaWdodDogMTAwJTsKICAgICAgICAgICAgbWF4LXdpZHRoOiAyMCU7CiAgICAgICAgfQogICAgICAgIC50cmVlIHsKICAgICAgICAgICAgaGVpZ2h0OiBjYWxjKDEwMCUgLSAyMnB4KTsKICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgIG92ZXJmbG93OiBzY3JvbGw7CiAgICAgICAgfQogICAgICAgIC52aWV3LWNvbnRhaW5lciwgLnNvdXJjZS1jb250YWluZXIgewogICAgICAgICAgICBmbGV4OiAxIDE7CiAgICAgICAgICAgIGhlaWdodDogMTAwJTsKICAgICAgICAgICAgbWF4LXdpZHRoOiA0MCU7CiAgICAgICAgfQogICAgICAgIC52aWV3LCAuc291cmNlIHsKICAgICAgICAgICAgaGVpZ2h0OiBjYWxjKDEwMCUgLSAyMHB4KTsKICAgICAgICAgICAgb3ZlcmZsb3c6IHNjcm9sbDsKICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDE1cHg7CiAgICAgICAgfQogICAgICAgIC5pbmZvLWxpbmUgewogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZmFlYmQ3OwogICAgICAgICAgICBmb250LWZhbWlseTogbW9ub3NwYWNlOwogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgICAgICAgfQogICAgICAgIC5maWxlLW5hbWUgewogICAgICAgICAgICBsaW5lLWhlaWdodDogMjBweDsKICAgICAgICAgICAgYmFja2dyb3VuZDogI2ZhZWJkNzsKICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsKICAgICAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDsKICAgICAgICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7CiAgICAgICAgICAgIGZvbnQtZmFtaWx5OiBtb25vc3BhY2U7CiAgICAgICAgfQogICAgICAgIC5maWxlLW5hbWU6ZW1wdHkgewogICAgICAgICAgICBkaXNwbGF5OiBub25lOwogICAgICAgIH0KICAgICAgICAuY2hpbGRyZW4tY29udGFpbmVyIHsKICAgICAgICAgICAgcGFkZGluZy1sZWZ0OiAyMHB4OwogICAgICAgICAgICBkaXNwbGF5OiBub25lOwogICAgICAgIH0KICAgICAgICAudGl0bGUgewogICAgICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTsKICAgICAgICAgICAgd2hpdGUtc3BhY2U6IHByZTsKICAgICAgICAgICAgZm9udC1mYW1pbHk6IG1vbm9zcGFjZTsKICAgICAgICB9CiAgICAgICAgLnRpdGxlLnNlbGVjdGVkIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogI2ZhZWJkNzsKICAgICAgICB9CiAgICAgICAgLnRpdGxlLmRhbmdlciB7CiAgICAgICAgICAgIGNvbG9yOiAjYTUyYTJhOwogICAgICAgIH0KICAgICAgICAudGl0bGUuZm9sZGVyOjpiZWZvcmUgewogICAgICAgICAgICBjb250ZW50OiAi8J+TgSI7CiAgICAgICAgfQogICAgICAgIC50aXRsZS5mb2xkZXIuZXhwYW5kZWQ6OmJlZm9yZSB7CiAgICAgICAgICAgIGNvbnRlbnQ6ICLwn5OCIjsKICAgICAgICB9CiAgICAgICAgLnRpdGxlOm5vdCguZm9sZGVyKTo6YmVmb3JlIHsKICAgICAgICAgICAgY29udGVudDogIvCfk4QiOwogICAgICAgIH0KICAgICAgICAudGl0bGUuZXhwYW5kZWQgfiAuY2hpbGRyZW4tY29udGFpbmVyIHsKICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7CiAgICAgICAgfQogICAgICAgIC50aXRsZSAudXNhZ2UgewogICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDsKICAgICAgICB9CiAgICAgICAgLnVudXNlZCB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6ICNmYmI0YjQ7CiAgICAgICAgfQogICAgPC9zdHlsZT4KPC9oZWFkPgo8Ym9keT4KICAgIDxkaXYgY2xhc3M9ImFwcCI+CiAgICAgICAgPGRpdiBjbGFzcz0idHJlZS1jb250YWluZXIiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0cmVlLWNvbnRyb2xzIj4KICAgICAgICAgICAgICAgIDxzZWxlY3QgaWQ9InZpZXctdHlwZSI+CiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iYWxsIj5BbGw8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJkdXBsaWNhdGVkIj5EdXBsaWNhdGVkPC9vcHRpb24+CiAgICAgICAgICAgICAgICA8L3NlbGVjdD4KICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9ImV4cGFuZC1hbGwiPkV4cGFuZCBBbGw8L2J1dHRvbj4KICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9ImNvbGxhcHNlLWFsbCI+Q29sbGFwc2UgQWxsPC9idXR0b24+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGlkPSJ0cmVlIiBjbGFzcz0idHJlZSI+PC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0idmlldy1jb250YWluZXIiPgogICAgICAgICAgICA8cHJlIGNsYXNzPSJmaWxlLW5hbWUiPjwvcHJlPgogICAgICAgICAgICA8cHJlIGlkPSJ2aWV3IiBjbGFzcz0idmlldyI+PC9wcmU+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0ic291cmNlLWNvbnRhaW5lciI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImluZm8tbGluZSI+CiAgICAgICAgICAgICAgICA8cHJlIGNsYXNzPSJmaWxlLW5hbWUiPjwvcHJlPgogICAgICAgICAgICAgICAgPGRpdj48YSB0YXJnZXQ9Il9ibGFuayI+PC9hPjwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPHByZSBpZD0ic291cmNlIiBjbGFzcz0ic291cmNlIj48L3ByZT4KICAgICAgICA8L2Rpdj4KICAgIDwvZGl2PgogICAgPHNjcmlwdD4KICAgICAgICB3aW5kb3cuVFJFRSA9IEpTT04ucGFyc2UoYCVUUkVFX0RBVEElYCk7CiAgICA8L3NjcmlwdD4KICAgIDxzY3JpcHQ+CiAgICAgICAgY29uc3Qgbm9kZU1hcCA9IHt9CiAgICAgICAgbGV0IGluZGV4ID0gMDsKCiAgICAgICAgZnVuY3Rpb24gcmVuZGVyTm9kZShwYXJlbnQsIG5vZGUsIGluY2x1ZGVOb3REdXBsaWNhdGVkKSB7CiAgICAgICAgICAgIGNvbnN0IGR1cGxpY2F0ZVJlbGF0ZWQgPSAobm9kZS5jaGlsZHJlbiAmJiBub2RlLmluZm8uY29udGFpbnNEdXBsaWNhdGVzKSB8fCBub2RlLmluZm8uY2h1bmtzPy5sZW5ndGggPiAxCiAgICAgICAgICAgIGlmICghaW5jbHVkZU5vdER1cGxpY2F0ZWQgJiYgIWR1cGxpY2F0ZVJlbGF0ZWQpIHsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKQogICAgICAgICAgICB0aXRsZS5pbm5lclRleHQgPSBkZWNvZGVVUklDb21wb25lbnQobm9kZS5uYW1lKQogICAgICAgICAgICB0aXRsZS5jbGFzc0xpc3QuYWRkKCd0aXRsZScpCiAgICAgICAgICAgIHRpdGxlLnNldEF0dHJpYnV0ZSgnZGF0YS1pZCcsIGluZGV4LnRvU3RyaW5nKCkpOwogICAgICAgICAgICBub2RlTWFwW2luZGV4KytdID0gbm9kZQoKICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JykKICAgICAgICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2NvbnRhaW5lcicpCiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmQodGl0bGUpCgogICAgICAgICAgICBjb25zdCBjaGlsZHJlbkNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpCiAgICAgICAgICAgIGNoaWxkcmVuQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2NoaWxkcmVuLWNvbnRhaW5lcicpCiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmQoY2hpbGRyZW5Db250YWluZXIpCgogICAgICAgICAgICBpZiAobm9kZS5jaGlsZHJlbikgewogICAgICAgICAgICAgICAgdGl0bGUuY2xhc3NMaXN0LmFkZCgnZm9sZGVyJywgJ2V4cGFuZGVkJykKICAgICAgICAgICAgICAgIG5vZGUuY2hpbGRyZW4uZm9yRWFjaCgobikgPT4gcmVuZGVyTm9kZShjaGlsZHJlbkNvbnRhaW5lciwgbiwgaW5jbHVkZU5vdER1cGxpY2F0ZWQpKQogICAgICAgICAgICB9IGVsc2UgaWYgKG5vZGUuaW5mby5jaHVua3MubGVuZ3RoID4gMSkgewogICAgICAgICAgICAgICAgdGl0bGUuY2xhc3NMaXN0LmFkZCgnZGFuZ2VyJykKICAgICAgICAgICAgICAgIGNvbnN0IHVzYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpCiAgICAgICAgICAgICAgICB1c2FnZS5pbm5lclRleHQgPSAnIHgnICsgbm9kZS5pbmZvLmNodW5rcy5sZW5ndGg7CiAgICAgICAgICAgICAgICB1c2FnZS5jbGFzc0xpc3QuYWRkKCd1c2FnZScpCiAgICAgICAgICAgICAgICB0aXRsZS5hcHBlbmQodXNhZ2UpCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHBhcmVudC5hcHBlbmQoY29udGFpbmVyKQogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gc2hvd0NodW5rKGNodW5rSW5mbykgewogICAgICAgICAgICBjb25zb2xlLmxvZyhjaHVua0luZm8pCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzb3VyY2UnKS5pbm5lckhUTUwgPSAnJzsKICAgICAgICAgICAgY29uc3QgY2h1bmtQYXRoID0gZGVjb2RlVVJJQ29tcG9uZW50KGNodW5rSW5mby5wYXRoKQogICAgICAgICAgICBjb25zdCBjaHVuayA9IHdpbmRvdy5UUkVFLmNodW5rc1tjaHVua1BhdGhdCiAgICAgICAgICAgIGNvbnN0IHRleHQgPSBkZWNvZGVVUklDb21wb25lbnQoY2h1bmsudGV4dCkKCiAgICAgICAgICAgIGNvbnN0IGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpOwoKICAgICAgICAgICAgLy8gY2h1bmsucmFuZ2VzLmZvckVhY2goKHJhbmdlKSA9PiB7CiAgICAgICAgICAgIC8vICAgICBjb25zdCBwYXJ0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpCiAgICAgICAgICAgIC8vICAgICBwYXJ0LmlubmVyVGV4dCA9IHRleHQuc2xpY2UocmFuZ2Uuc3RhcnQsIHJhbmdlLmVuZCkKICAgICAgICAgICAgLy8gICAgIGlmICghcmFuZ2UudXNlZCkgewogICAgICAgICAgICAvLyAgICAgICAgIHBhcnQuY2xhc3NMaXN0LmFkZCgndW51c2VkJykKICAgICAgICAgICAgLy8gICAgIH0KICAgICAgICAgICAgLy8gICAgIGZyYWdtZW50LmFwcGVuZChwYXJ0KQogICAgICAgICAgICAvLyB9KQoKICAgICAgICAgICAgY29uc3QgYmVmb3JlID0gdGV4dC5zbGljZSgwLCBjaHVua0luZm8uc3RhcnQucG9zaXRpb24pOwogICAgICAgICAgICBjb25zdCBmaWxlID0gdGV4dC5zbGljZShjaHVua0luZm8uc3RhcnQucG9zaXRpb24sIGNodW5rSW5mby5lbmQucG9zaXRpb24pOwogICAgICAgICAgICBjb25zdCBhZnRlciA9IHRleHQuc2xpY2UoY2h1bmtJbmZvLmVuZC5wb3NpdGlvbik7CgogICAgICAgICAgICBjb25zdCBiZWZvcmVQYXJ0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpCiAgICAgICAgICAgIGJlZm9yZVBhcnQuaW5uZXJUZXh0ID0gYmVmb3JlOwogICAgICAgICAgICBjb25zdCBmaWxlUGFydCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKQogICAgICAgICAgICBmaWxlUGFydC5pbm5lclRleHQgPSBmaWxlCiAgICAgICAgICAgIGZpbGVQYXJ0LmNsYXNzTGlzdC5hZGQoJ3VudXNlZCcpCiAgICAgICAgICAgIGNvbnN0IGFmdGVyUGFydCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKQogICAgICAgICAgICBhZnRlclBhcnQuaW5uZXJUZXh0ID0gYWZ0ZXI7CgogICAgICAgICAgICBmcmFnbWVudC5hcHBlbmQoYmVmb3JlUGFydCwgZmlsZVBhcnQsIGFmdGVyUGFydCk7CgogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc291cmNlJykuYXBwZW5kKGZyYWdtZW50KTsKCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzb3VyY2UnKS5zY3JvbGxUb3AgPSAoY2h1bmtJbmZvLnN0YXJ0LmxpbmUgLSAxKSAqIDE1OwoKICAgICAgICAgICAgdXBkYXRlT3BlbkxpbmsoY2h1bmtQYXRoKQogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gdXBkYXRlT3BlbkxpbmsocGF0aCkgewogICAgICAgICAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNvdXJjZS1jb250YWluZXIgLmluZm8tbGluZSBhJykKICAgICAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBgJHt3aW5kb3cuVFJFRS5hcHBVcmx9LyR7cGF0aH1gKQogICAgICAgICAgICBsaW5rLmlubmVyVGV4dCA9ICdPcGVuJzsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGV4cGFuZEFsbCgpIHsKICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRpdGxlLmZvbGRlcicpLmZvckVhY2goKGVsZW1lbnQpID0+IHsKICAgICAgICAgICAgICAgIGlmICghZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2V4cGFuZGVkJykpIHsKICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2V4cGFuZGVkJykKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGNvbGxhcHNlQWxsKCkgewogICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGl0bGUuZm9sZGVyLmV4cGFuZGVkJykuZm9yRWFjaCgoZWxlbWVudCkgPT4gewogICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdleHBhbmRlZCcpCiAgICAgICAgICAgIH0pCiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiByZW5kZXJUcmVlKGluY2x1ZGVOb3REdXBsaWNhdGVkKSB7CiAgICAgICAgICAgIGNvbnN0IHRyZWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndHJlZScpOwogICAgICAgICAgICB0cmVlLmlubmVySFRNTCA9ICcnOwogICAgICAgICAgICByZW5kZXJOb2RlKHRyZWUsIHdpbmRvdy5UUkVFLnJvb3QsIGluY2x1ZGVOb3REdXBsaWNhdGVkKQogICAgICAgIH0KCiAgICAgICAgcmVuZGVyVHJlZSh0cnVlKTsKCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RyZWUnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4gewogICAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygndGl0bGUnKSkgewogICAgICAgICAgICAgICAgaWYgKGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2ZvbGRlcicpKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2V4cGFuZGVkJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRpdGxlJykuZm9yRWFjaCgoZWxlbWVudCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdleHBhbmRlZCcpOwogICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICAgICBldmVudC50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgnZXhwYW5kZWQnKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBldmVudC50YXJnZXQuY2xhc3NMaXN0LmFkZCgnZXhwYW5kZWQnKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBub2RlTWFwW2V2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnKV0KICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGl0bGUuc2VsZWN0ZWQnKQogICAgICAgICAgICAgICAgICAgICAgICAuZm9yRWFjaCgoZWxlbWVudCkgPT4gZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpKTsKICAgICAgICAgICAgICAgICAgICBldmVudC50YXJnZXQuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudmlldy1jb250YWluZXIgLmZpbGUtbmFtZScpLmlubmVyVGV4dCA9IGRlY29kZVVSSUNvbXBvbmVudChub2RlLmluZm8ucGF0aCkKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmlldycpLmlubmVyVGV4dCA9IGRlY29kZVVSSUNvbXBvbmVudChub2RlLmluZm8udGV4dCk7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNvdXJjZS1jb250YWluZXIgLmZpbGUtbmFtZScpLmlubmVyVGV4dCA9ICcnCiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUuaW5mby5jaHVua3MubGVuZ3RoID09PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNodW5rID0gbm9kZS5pbmZvLmNodW5rc1swXQogICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc291cmNlLWNvbnRhaW5lciAuZmlsZS1uYW1lJykuaW5uZXJUZXh0ID0gZGVjb2RlVVJJQ29tcG9uZW50KGNodW5rLnBhdGgpCiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDaHVuayhjaHVuayk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NvdXJjZScpLmlubmVyVGV4dCA9ICcnCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpCiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuaW5mby5jaHVua3MuZm9yRWFjaCgoY2h1bmssIGkpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNodW5rUGF0aCA9IGRlY29kZVVSSUNvbXBvbmVudChjaHVuay5wYXRoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbi5pbm5lclRleHQgPSBjaHVua1BhdGgKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpID09PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uLnNldEF0dHJpYnV0ZSgnc2VsZWN0ZWQnLCAnc2VsZWN0ZWQnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDaHVuayhjaHVuaykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdC5hcHBlbmQob3B0aW9uKQogICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Qub25jaGFuZ2UgPSBmdW5jdGlvbihldmVudCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRDaHVuayA9IG5vZGUuaW5mby5jaHVua3MuZmluZCgoY2h1bmspID0+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVjb2RlVVJJQ29tcG9uZW50KGNodW5rLnBhdGgpID09PSBldmVudC50YXJnZXQudmFsdWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0NodW5rKHNlbGVjdGVkQ2h1bmspCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNvdXJjZS1jb250YWluZXIgLmZpbGUtbmFtZScpLmFwcGVuZChzZWxlY3QpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSkKCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4cGFuZC1hbGwnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsKICAgICAgICAgICAgZXhwYW5kQWxsKCkKICAgICAgICB9KQoKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29sbGFwc2UtYWxsJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7CiAgICAgICAgICAgIGNvbGxhcHNlQWxsKCkKICAgICAgICB9KQoKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmlldy10eXBlJykuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGV2ZW50KSA9PiB7CiAgICAgICAgICAgIHJlbmRlclRyZWUoZXZlbnQudGFyZ2V0LnZhbHVlID09PSAnYWxsJykKICAgICAgICB9KQogICAgPC9zY3JpcHQ+CjwvYm9keT4KPC9odG1sPgo=', 'base64')
